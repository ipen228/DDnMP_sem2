


ARM Macro Assembler    Page 1 


    1 00000000                 GET              main.s
    1 00000000                 GET              stm32_EQU.s
    1 00000000 20000000 
                       STACK   EQU              0x20000000
    2 00000000 00000500 
                       STACK_SIZE
                               EQU              0x500
    3 00000000 20000500 
                       STACK_TOP
                               EQU              STACK+STACK_SIZE
    4 00000000         
    5 00000000 00000000 
                       NULL    EQU              0x00
    6 00000000 00000001 
                       ONE     EQU              0x01
    7 00000000                 END
    2 00000000         
    3 00000000 0000000A 
                       MAX_SIZE
                               EQU              0xA
    4 00000000         
    5 00000000                 AREA             CONSTANT_FLASH, DATA, READONLY
    6 00000000         
    7 00000000 06 05 07 
              00 04 0F 
              09 00 07 
              01       mas     DCB              6, 5, 7, 0, 4, 15, 9, 0, 7, 1
    8 0000000A                 AREA             VERIABLE_RAM, DATA, READWRITE
    9 00000000         
   10 00000000 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 result  SPACE            0x24
   11 00000024         
   12 00000024                 AREA             MAIN, CODE, READONLY
   13 00000000                 THUMB
   14 00000000         
   15 00000000         main    PROC
   16 00000000 F04F 0300       mov              R3, #0      ;i
   17 00000004 4E21            LDR              R6, =mas
   18 00000006 F8DF 8088       LDR              R8,=result
   19 0000000A 7835            LDRB             R5, [R6, #0]
   20 0000000C E92D 01FF       push             {R0-R8}
   21 00000010 F7FF FFFE       bl               var13
   22 00000014 E8BD 01FF       pop              {R0-R8}
   23 00000018 F7FF FFFE       bl               min_find
   24 0000001C         loop
   25 0000001C         
   26 0000001C E7FE            B                loop
   27 0000001E         
   28 0000001E         ENDP



ARM Macro Assembler    Page 2 


   29 0000001E         
   30 0000001E         
   31 0000001E         var13   PROC
   32 0000001E B500            push             {lr}
   33 00000020 F04F 0300       mov              R3, #0      ;i
   34 00000024 7835            LDRB             R5, [R6, #0]
   35 00000026 F7FF FFFE       bl               mas_cpy
   36 0000002A F85D EB04       pop              {lr}
   37 0000002E 4770            bx               lr
   38 00000030         
   39 00000030                 ENDP
   40 00000030         
   41 00000030         min_find
                               PROC
   42 00000030         
   43 00000030         MAIN_CMP
   44 00000030 2B0A            CMP              R3, #MAX_SIZE
   45 00000032 DB01            BLT              COPE
   46 00000034 DA0D            BGE              ST
   47 00000036 4770            bx               lr
   48 00000038         COPE
   49 00000038 5CF7            LDRB             R7, [R6, R3]
   50 0000003A 2F00            CMP              R7, #0
   51 0000003C D002            BEQ              NO
   52 0000003E 42AF            CMP              R7, R5
   53 00000040 DB03            BLT              YES
   54 00000042 DCFF            BGT              NO
   55 00000044         
   56 00000044         NO
   57 00000044 F103 0301       add              R3, #1
   58 00000048 E7F2            B                MAIN_CMP
   59 0000004A         YES
   60 0000004A 463D            mov              R5, R7
   61 0000004C F103 0301       add              R3, #1
   62 00000050 E7EE            B                MAIN_CMP
   63 00000052         ST
   64 00000052 F04F 0300       mov              R3, #0
   65 00000056 E7FF            b                START
   66 00000058         START
   67 00000058 2B0A            CMP              R3, #MAX_SIZE
   68 0000005A DB00            blt              SEARCH
   69 0000005C 4770            bx               lr
   70 0000005E         SEARCH
   71 0000005E 5CF7            LDRB             R7, [R6, R3]
   72 00000060 2F00            CMP              R7, #0
   73 00000062 D002            BEQ              ZAMENA
   74 00000064 F103 0301       add              R3, 1
   75 00000068 E7F6            b                START
   76 0000006A         ZAMENA
   77 0000006A F808 5003       STRB             R5, [R8, R3]
   78 0000006E F103 0301       add              R3, 1
   79 00000072 E7F1            b                START
   80 00000074         
   81 00000074         
   82 00000074                 ENDP
   83 00000074         
   84 00000074         mas_cpy PROC
   85 00000074         
   86 00000074         DOUBLE



ARM Macro Assembler    Page 3 


   87 00000074 F04F 0300       mov              R3, #0
   88 00000078 E7FF            B                DA
   89 0000007A         DA
   90 0000007A 2B0A            CMP              R3, #MAX_SIZE
   91 0000007C DB00            BLT              COPY
   92 0000007E 4770            bx               lr
   93 00000080         COPY
   94 00000080 5CF7            LDRB             R7, [R6, R3]
   95 00000082 F808 7003       STRB             R7, [R8, R3]
   96 00000086 F103 0301       add              R3, #1
   97 0000008A E7F6            B                DA
   98 0000008C         
   99 0000008C         
  100 0000008C                 ENDP
  101 0000008C         
  102 0000008C         
  103 0000008C         END
                       
    2 0000008C         
    3 0000008C         
    4 0000008C         
    5 0000008C                 PRESERVE8
    6 0000008C         
    7 0000008C                 THUMB
    8 0000008C         
    9 0000008C 00000000 
              00000000         AREA             RESET, CODE, READONLY
   10 00000000         
   11 00000000 20000500        DCD              STACK_TOP
   12 00000004 00000000        DCD              startup
   13 00000008         
   14 00000008                 ENTRY
   15 00000008         
   16 00000008         startup PROC
   17 00000008         
   18 00000008         
   19 00000008 F7FF BFFE       B                main
   20 0000000C         
   21 0000000C                 ENDP
   22 0000000C                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\startup.d -o.\objects\startup.o -IC:\Users\kakka\AppData
\Local\Arm\Packs\Keil\STM32F1xx_DFP\2.3.0\Device\Include --predefine="__EVAL SE
TA 1" --predefine="__UVISION_VERSION SETA 535" --predefine="STM32F10X_MD SETA 1
" --list=.\listings\startup.lst startup.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CONSTANT_FLASH 00000000

Symbol: CONSTANT_FLASH
   Definitions
      At line 5 in file main.s
   Uses
      None
Comment: CONSTANT_FLASH unused
mas 00000000

Symbol: mas
   Definitions
      At line 7 in file main.s
   Uses
      At line 17 in file main.s
Comment: mas used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

VERIABLE_RAM 00000000

Symbol: VERIABLE_RAM
   Definitions
      At line 8 in file main.s
   Uses
      None
Comment: VERIABLE_RAM unused
result 00000000

Symbol: result
   Definitions
      At line 10 in file main.s
   Uses
      At line 18 in file main.s
Comment: result used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

COPE 00000038

Symbol: COPE
   Definitions
      At line 48 in file main.s
   Uses
      At line 45 in file main.s
Comment: COPE used once
COPY 00000080

Symbol: COPY
   Definitions
      At line 93 in file main.s
   Uses
      At line 91 in file main.s
Comment: COPY used once
DA 0000007A

Symbol: DA
   Definitions
      At line 89 in file main.s
   Uses
      At line 88 in file main.s
      At line 97 in file main.s

DOUBLE 00000074

Symbol: DOUBLE
   Definitions
      At line 86 in file main.s
   Uses
      None
Comment: DOUBLE unused
END 0000008C

Symbol: END
   Definitions
      At line 103 in file main.s
   Uses
      None
Comment: END unused
ENDP 0000001E

Symbol: ENDP
   Definitions
      At line 28 in file main.s
   Uses
      None
Comment: ENDP unused
MAIN 00000000

Symbol: MAIN
   Definitions
      At line 12 in file main.s
   Uses
      None
Comment: MAIN unused
MAIN_CMP 00000030




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Symbol: MAIN_CMP
   Definitions
      At line 43 in file main.s
   Uses
      At line 58 in file main.s
      At line 62 in file main.s

NO 00000044

Symbol: NO
   Definitions
      At line 56 in file main.s
   Uses
      At line 51 in file main.s
      At line 54 in file main.s

SEARCH 0000005E

Symbol: SEARCH
   Definitions
      At line 70 in file main.s
   Uses
      At line 68 in file main.s
Comment: SEARCH used once
ST 00000052

Symbol: ST
   Definitions
      At line 63 in file main.s
   Uses
      At line 46 in file main.s
Comment: ST used once
START 00000058

Symbol: START
   Definitions
      At line 66 in file main.s
   Uses
      At line 65 in file main.s
      At line 75 in file main.s
      At line 79 in file main.s

YES 0000004A

Symbol: YES
   Definitions
      At line 59 in file main.s
   Uses
      At line 53 in file main.s
Comment: YES used once
ZAMENA 0000006A

Symbol: ZAMENA
   Definitions
      At line 76 in file main.s
   Uses
      At line 73 in file main.s
Comment: ZAMENA used once
loop 0000001C



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols


Symbol: loop
   Definitions
      At line 24 in file main.s
   Uses
      At line 26 in file main.s
Comment: loop used once
main 00000000

Symbol: main
   Definitions
      At line 15 in file main.s
   Uses
      At line 19 in file startup.s
Comment: main used once
mas_cpy 00000074

Symbol: mas_cpy
   Definitions
      At line 84 in file main.s
   Uses
      At line 35 in file main.s
Comment: mas_cpy used once
min_find 00000030

Symbol: min_find
   Definitions
      At line 41 in file main.s
   Uses
      At line 23 in file main.s
Comment: min_find used once
var13 0000001E

Symbol: var13
   Definitions
      At line 31 in file main.s
   Uses
      At line 21 in file main.s
Comment: var13 used once
19 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

RESET 00000000

Symbol: RESET
   Definitions
      At line 9 in file startup.s
   Uses
      None
Comment: RESET unused
startup 00000008

Symbol: startup
   Definitions
      At line 16 in file startup.s
   Uses
      At line 12 in file startup.s
Comment: startup used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

MAX_SIZE 0000000A

Symbol: MAX_SIZE
   Definitions
      At line 3 in file main.s
   Uses
      At line 44 in file main.s
      At line 67 in file main.s
      At line 90 in file main.s

NULL 00000000

Symbol: NULL
   Definitions
      At line 5 in file stm32_EQU.s
   Uses
      None
Comment: NULL unused
ONE 00000001

Symbol: ONE
   Definitions
      At line 6 in file stm32_EQU.s
   Uses
      None
Comment: ONE unused
STACK 20000000

Symbol: STACK
   Definitions
      At line 1 in file stm32_EQU.s
   Uses
      At line 3 in file stm32_EQU.s
Comment: STACK used once
STACK_SIZE 00000500

Symbol: STACK_SIZE
   Definitions
      At line 2 in file stm32_EQU.s
   Uses
      At line 3 in file stm32_EQU.s
Comment: STACK_SIZE used once
STACK_TOP 20000500

Symbol: STACK_TOP
   Definitions
      At line 3 in file stm32_EQU.s
   Uses
      At line 11 in file startup.s
Comment: STACK_TOP used once
6 symbols
366 symbols in table
